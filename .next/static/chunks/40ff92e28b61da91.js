(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54295,e=>{"use strict";var d=e.i(43476),t=e.i(71645);e.i(36180);var r=e.i(98925),i=e.i(41187);let o=(0,r.getFirestore)(i.default);var l=e.i(61682);function n(){let[e,i]=(0,t.useState)([]),[n,s]=(0,t.useState)(!0);(0,t.useEffect)(()=>{var e;let d,t=(e=e=>{i(e),s(!1)},d=(0,r.collection)(o,"pedidos"),(0,r.onSnapshot)(d,d=>{let t=[];d.forEach(e=>{t.push({id:e.id,...e.data()})}),e(t)}));return()=>t()},[]);let p=e=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP"}).format(e);return(0,d.jsxs)("div",{style:{fontFamily:"Arial, sans-serif",padding:"20px",backgroundColor:"#f0f2f5",width:"100vw"},children:[n&&(0,d.jsx)(l.default,{}),(0,d.jsx)("h1",{style:{color:"#333",borderBottom:"2px solid #ccc",paddingBottom:"10px",marginBottom:"20px"},children:"Lista de Pedidos"}),0===e.length?(0,d.jsx)("p",{style:{textAlign:"center",color:"#666"},children:"No hay pedidos para mostrar."}):(0,d.jsx)("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gap:"20px"},children:e.map(e=>{let t=(e.products||[]).reduce((e,d)=>e+d.quantity*d.product.selectedPrice.price,0);return(0,d.jsxs)("div",{style:{width:"100%",background:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},children:[(0,d.jsxs)("h2",{style:{color:"#0056b3",marginBottom:"15px",borderBottom:"1px solid #eee",paddingBottom:"10px"},children:["Pedido: ",e.client]}),(0,d.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"20px"},children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{style:{backgroundColor:"#f2f2f2"},children:[(0,d.jsx)("th",{style:{padding:"4px",border:"1px solid #ddd",textAlign:"left"},children:"Cant."}),(0,d.jsx)("th",{style:{padding:"4px",border:"1px solid #ddd",textAlign:"left"},children:"Detalle"}),(0,d.jsx)("th",{style:{padding:"4px",border:"1px solid #ddd",textAlign:"right"},children:"Unitario"}),(0,d.jsx)("th",{style:{padding:"4px",border:"1px solid #ddd",textAlign:"right"},children:"Total"})]})}),(0,d.jsx)("tbody",{children:(e.products||[]).map((e,t)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd"},children:e.quantity}),(0,d.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd"},children:`${e.product.nombre} ${e.product.peso}Kg`}),(0,d.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd",textAlign:"right"},children:p(e.product.selectedPrice.price)}),(0,d.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd",textAlign:"right"},children:p(e.product.selectedPrice.price*e.quantity)})]},t))})]}),(0,d.jsxs)("div",{style:{textAlign:"right",fontWeight:"bold",fontSize:"1.2em",color:"#333",marginTop:"15px"},children:["Total Pedido: ",p(t)]}),(0,d.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",padding:"1rem"},children:(0,d.jsx)("button",{onClick:()=>{let d,r;return d=`*Nuevo Pedido:*
*Cliente:* ${e.client}
*Detalle del pedido:*
\`\`\`
`,e.products.forEach(e=>{let t=p(e.quantity*e.product.selectedPrice.price);d+=`${e.quantity}x ${e.product.nombre} ${e.product.peso}Kg - ${t}
`}),d+=`\`\`\`
*Total Pedido:* ${p(t)}`,r=`https://api.whatsapp.com/send?phone=56990059578&text=${encodeURIComponent(d)}`,void window.open(r,"_blank")},style:{padding:"10px 20px",backgroundColor:"#25D366",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:"Enviar por WhatsApp"})})]},e.id)})})]})}e.s(["default",()=>n],54295)}]);