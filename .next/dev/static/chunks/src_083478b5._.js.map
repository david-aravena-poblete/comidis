{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/comidinapp/src/serverless/config.js"],"sourcesContent":["// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_APP_ID\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconsole.log(\"Firebase App Initialized Successfully\");\nexport default app;"],"names":[],"mappings":"AAAA,uDAAuD;;;;;AAO7C;AANV;AAAA;;AACA,4DAA4D;AAC5D,iEAAiE;AAEjE,wCAAwC;AACxC,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,oLAAa,EAAC;AAC1B,QAAQ,GAAG,CAAC;uCACG","debugId":null}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file:///home/user/comidinapp/src/serverless/db/listenPedidos/index.js"],"sourcesContent":["import { getFirestore, collection, onSnapshot } from 'firebase/firestore';\nimport app from '../../config';\n\nconst db = getFirestore(app);\n\nexport const listenPedidos = (callback) => {\n  const pedidosCol = collection(db, 'pedidos');\n  \n  const unsubscribe = onSnapshot(pedidosCol, (snapshot) => {\n    const pedidos = [];\n    snapshot.forEach((doc) => {\n      pedidos.push({ id: doc.id, ...doc.data() });\n    });\n    callback(pedidos);\n  });\n\n  return unsubscribe;\n};\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEA,MAAM,KAAK,IAAA,kLAAY,EAAC,yIAAG;AAEpB,MAAM,gBAAgB,CAAC;IAC5B,MAAM,aAAa,IAAA,gLAAU,EAAC,IAAI;IAElC,MAAM,cAAc,IAAA,gLAAU,EAAC,YAAY,CAAC;QAC1C,MAAM,UAAU,EAAE;QAClB,SAAS,OAAO,CAAC,CAAC;YAChB,QAAQ,IAAI,CAAC;gBAAE,IAAI,IAAI,EAAE;gBAAE,GAAG,IAAI,IAAI,EAAE;YAAC;QAC3C;QACA,SAAS;IACX;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///home/user/comidinapp/src/app/documentos/components/buttonImpres/index.jsx"],"sourcesContent":["import { useReactToPrint } from 'react-to-print';\n\nexport default function ButtonImpres({ targetRef }) {\n\n    const handlePrint = useReactToPrint({\n        content: () => targetRef.current,\n    });\n\n    return (\n        <button\n            onClick={handlePrint}\n            style={{\n                marginLeft:\"10px\",\n                padding:\"10px 20px\",\n                background:\"#333\",\n                color:\"white\",\n                border:\"none\",\n                borderRadius:\"5px\",\n                cursor:\"pointer\",\n                fontWeight:\"bold\"\n            }}\n        >\n            Imprimir\n        </button>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;;AAEe,SAAS,aAAa,EAAE,SAAS,EAAE;;IAE9C,MAAM,cAAc,IAAA,0KAAe,EAAC;QAChC,OAAO;yDAAE,IAAM,UAAU,OAAO;;IACpC;IAEA,qBACI,6LAAC;QACG,SAAS;QACT,OAAO;YACH,YAAW;YACX,SAAQ;YACR,YAAW;YACX,OAAM;YACN,QAAO;YACP,cAAa;YACb,QAAO;YACP,YAAW;QACf;kBACH;;;;;;AAIT;GAvBwB;;QAEA,0KAAe;;;KAFf","debugId":null}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///home/user/comidinapp/src/app/documentos/page.jsx"],"sourcesContent":["'use client'\nimport { useRef, useState, useEffect } from 'react';\nimport { listenPedidos } from '../../serverless/db/listenPedidos';\nimport ButtonImpres from './components/buttonImpres/'\n\nexport default function ListDocuments() {\n    const [pedidos, setPedidos] = useState([]);\n\n    // Array de referencias estable a las cards\n    const cardRefs = useRef({});\n\n    useEffect(() => {\n        const unsubscribe = listenPedidos((newPedidos) => {\n            setPedidos(newPedidos);\n        });\n\n        return () => unsubscribe();\n    }, []);\n\n    const formatCurrency = (value) => {\n        return new Intl.NumberFormat('es-CL', { style: 'currency', currency: 'CLP' }).format(value);\n    };\n\n    const handleSendWhatsApp = (pedido, totalPedido) => {\n        const phone = '56990059578';\n        let message = `*Nuevo Pedido:*`;\n        message += `*Cliente:* ${pedido.client}`;\n        message += '*Detalle del pedido:* \\n\\n';\n\n        pedido.products.forEach(item => {\n            const totalItem = formatCurrency(item.quantity * item.product.selectedPrice.price);\n            message += `${item.quantity}x ${item.product.nombre} ${item.product.peso}Kg - ${totalItem}\\n`;\n        });\n\n        message += `\\n*Total Pedido:* ${formatCurrency(totalPedido)}`;\n\n        const whatsappUrl = `https://api.whatsapp.com/send?phone=${phone}&text=${encodeURIComponent(message)}`; \n        window.open(whatsappUrl, '_blank');\n    };\n\n    return (\n        <div style={{ fontFamily: 'Arial, sans-serif', padding: '20px', backgroundColor: '#f0f2f5', width:\"100vw\" }}>\n            <h1 style={{ color: '#333', borderBottom: '2px solid #ccc', paddingBottom: '10px', marginBottom: '20px' }}>\n                Lista de Pedidos\n            </h1>\n\n            {pedidos.length === 0 ? (\n                <p style={{ textAlign: 'center', color: '#666' }}>No hay pedidos para mostrar.</p>\n            ) : (\n                <div style={{ width:\"100%\", display: 'grid', gridTemplateColumns: 'repeat(auto-fill)', gap: '20px' }}>\n                    {pedidos.map((pedido) => {\n\n                        // Crear un ref si aÃºn no existe para este pedido\n                        if (!cardRefs.current[pedido.id]) {\n                            cardRefs.current[pedido.id] = useRef(null);\n                        }\n\n                        const totalPedido = (pedido.products || []).reduce((acc, item) =>\n                            acc + (item.quantity * item.product.selectedPrice.price), 0\n                        );\n\n                        return (\n                            <div\n                                key={pedido.id}\n                                ref={cardRefs.current[pedido.id]}  // Asignar el ref correspondiente\n                                style={{\n                                    width:\"100%\",\n                                    background: '#fff',\n                                    padding: '20px',\n                                    borderRadius: '8px',\n                                    boxShadow: '0 4px 8px rgba(0,0,0,0.1)'\n                                }}\n                            >\n                                <h2 style={{ color: '#0056b3', marginBottom: '15px', borderBottom: '1px solid #eee', paddingBottom: '10px' }}>\n                                    Pedido: {pedido.client}\n                                </h2>\n\n                                <table style={{ width: '100%', borderCollapse: 'collapse', marginBottom: '20px' }}>\n                                    <thead>\n                                        <tr style={{ backgroundColor: '#f2f2f2' }}>\n                                            <th style={{ padding: '4px', border: '1px solid #ddd', textAlign: 'left' }}>Cant.</th>\n                                            <th style={{ padding: '4px', border: '1px solid #ddd', textAlign: 'left' }}>Detalle</th>\n                                            <th style={{ padding: '4px', border: '1px solid #ddd', textAlign: 'right' }}>Unitario</th>\n                                            <th style={{ padding: '4px', border: '1px solid #ddd', textAlign: 'right' }}>Total</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody>\n                                        {(pedido.products || []).map((item, index) => (\n                                            <tr key={index}>\n                                                <td style={{ padding: '4px', border: '1px solid #ddd' }}>{item.quantity}</td>\n                                                <td style={{ padding: '4px', border: '1px solid #ddd' }}>{`${item.product.nombre} ${item.product.peso}Kg`}</td>\n                                                <td style={{ padding: '4px', border: '1px solid #ddd', textAlign: 'right' }}>{formatCurrency(item.product.selectedPrice.price)}</td>\n                                                <td style={{ padding: '4px', border: '1px solid #ddd', textAlign: 'right' }}>{formatCurrency(item.product.selectedPrice.price * item.quantity)}</td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </table>\n\n                                <div style={{ textAlign: 'right', fontWeight: 'bold', fontSize: '1.2em', color: '#333', marginTop: '15px' }}>\n                                    Total Pedido: {formatCurrency(totalPedido)}\n                                </div>\n\n                                <div style={{display:\"flex\", gap:\"10px\", justifyContent:\"flex-end\", padding:\"1rem\"}}>\n                                    <button\n                                        onClick={() => handleSendWhatsApp(pedido, totalPedido)}\n                                        style={{\n                                            padding:'10px 20px',\n                                            backgroundColor: '#25D366',\n                                            color: 'white',\n                                            border: 'none',\n                                            borderRadius: '5px',\n                                            cursor: 'pointer',\n                                            fontWeight: 'bold',\n                                            boxShadow: '0 2px 4px rgba(0,0,0,0.2)'\n                                        }}\n                                    >\n                                        Enviar por WhatsApp\n                                    </button>\n\n                                    <ButtonImpres targetRef={cardRefs.current[pedido.id]} />\n                                </div>\n                            </div>\n                        );\n                    })}\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}